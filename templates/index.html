<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <nav>
      <div class="logo"></div>
      <div class="nav-items">
        <a href="/">Home</a> <a href="/">Research</a> <a href="/">About Us</a>
      </div>
    </nav>
    <section class="hero">
      <div class="hero-container">
        <div class="column-left">
          <h1>Generate Omnidirectional Images</h1>
          <p>
            We present a novel way to generate omnidirectional images, try it by writing a prompt below!
          </p>
        </div>
        <div class="column-right">
          <img
            src="./robot.svg"
            alt="illustration
        "
            class="hero-image"
          />
        </div>

    </div>
    <div class="generation">
        <div class="generation-container">
            <input class="prompt" type="text">
            <button class="button-4" id="button-4"><img src="button.png" alt=""></button>
        </div>
    </div>
    <div class="image-container" id="image-container">
      <img src="" alt="Generated Image" id="generated-image">
    </div>
    <div class="loading-container" id="loading-container">
      <div class="loading-spinner" id="loading-spinner"></div>
    </div>
    <div class="gallery-heading">
        <h1>Image Gallery</h1>
        <!-- Images Here! -->
        <div class="gallery-images">
          <ul>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1631451095765-2c91616fc9e6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA0OTI3Nw&ixlib=rb-1.2.1&q=80&w=400' alt='Volcano and lava field against a stormy sky'>
                  <figcaption>Mountains and volcanos</figcaption>
                </figure>
              </a>
            </li>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1633621533308-8760aefb5521?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA1MjAyMQ&ixlib=rb-1.2.1&q=80&w=400' alt='Guy on a bike ok a wooden bridge with a forest backdrop'>
                  <figcaption>Adventure getaways</figcaption>
                </figure>
              </a>
            </li>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1633635146842-12d386e64058?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA1MjA5OA&ixlib=rb-1.2.1&q=80&w=400' alt='Person standing alone in a misty forest'>
                  <figcaption>Forest escapes</figcaption>
                </figure>
              </a>
            </li>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1568444438385-ece31a33ce78?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA1MjA5OA&ixlib=rb-1.2.1&q=80&w=400' alt='Person hiking on a trail through mountains while taking a photo with phone'>
                  <figcaption>Hiking trails</figcaption>
                </figure>
              </a>
            </li>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1633515257379-5fda985bd57a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA1MjA5OA&ixlib=rb-1.2.1&q=80&w=400' alt='Street scene with person walking and others on motorbikes, all wearing masks'>
                  <figcaption>Street scenes</figcaption>
                </figure>
              </a>
            </li>
            <li>
              <a href="">
                <figure>
                  <img src='https://images.unsplash.com/photo-1633209931146-260ce0d16e22?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYzNDA1MjA5OA&ixlib=rb-1.2.1&q=80&w=400' alt='Fashionable-looking girl with blond hair and pink sunglasses'>
                  <figcaption>Trending</figcaption>
                </figure>
              </a>
            </li>
          </ul>
        </div>
    </div>
    </section>
  </body>
  <script type="module">
    document.addEventListener('DOMContentLoaded', function() {
      var loadButton = document.getElementById('button-4');
      var loadingContainer = document.getElementById('loading-container');
      var loadingSpinner = document.getElementById('loading-spinner');
      var imageContainer = document.getElementById('image-container');
      loadButton.addEventListener('click',async function() {
        
      loadingContainer.style.display = 'flex';
      loadingSpinner.style.display = 'flex';
      imageContainer.style.display = 'none'
      
        const response = await fetch("http://localhost:5000/generate-image")
        .then(response => response.blob())  
        .then(blob => { 
          // Create an image element 
          const imageElement = document.getElementById('generated-image')
          
          // Set the src attribute to the Blob URL 
      
          imageElement.src = URL.createObjectURL(blob);

        }).catch(error => { 
          console.error('Error fetching image:', error); 
        });
        loadingContainer.style.display = 'none'
        loadingSpinner.style.display = 'none';
        imageContainer.style.display = 'flex'
        window.alert("Your Image Has Been Generated");
      });
    });
    </script>
</html>